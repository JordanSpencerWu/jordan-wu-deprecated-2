(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{KvMI:function(e,t,n){"use strict";n.r(t);n("E9XD");var r=n("q1tI"),i=n.n(r),a=n("rePB"),o=n("9eSz"),c=n.n(o),s=n("Wbzz"),u=(n("ToJy"),function(){function e(){}return e.prototype.expandToken=function(e){for(var t=[],n="",r=0,i=e.length;r<i;++r)n+=e.charAt(r),t.push(n);return t},e}()),l=function(){function e(){}return e.prototype.sanitize=function(e){return e?e.toLocaleLowerCase().trim():""},e}();function d(e,t){t=t||[];for(var n=e=e||{},r=0;r<t.length;r++)if(null==(n=n[t[r]]))return null;return n}var f=function(){function e(e){this._uidFieldName=e,this._tokenToIdfCache={},this._tokenMap={}}var t=e.prototype;return t.indexDocument=function(e,t,n){this._tokenToIdfCache={};var r,i=this._tokenMap;"object"!=typeof i[e]?i[e]=r={$numDocumentOccurrences:0,$totalNumOccurrences:1,$uidMap:{}}:(r=i[e]).$totalNumOccurrences++;var a=r.$uidMap;"object"!=typeof a[t]?(r.$numDocumentOccurrences++,a[t]={$document:n,$numTokenOccurrences:1}):a[t].$numTokenOccurrences++},t.search=function(e,t){for(var n={},r=0,i=e.length;r<i;r++){var a=e[r],o=this._tokenMap[a];if(!o)return[];if(0===r)for(var c=0,s=(u=Object.keys(o.$uidMap)).length;c<s;c++){n[l=u[c]]=o.$uidMap[l].$document}else{var u;for(c=0,s=(u=Object.keys(n)).length;c<s;c++){var l=u[c];"object"!=typeof o.$uidMap[l]&&delete n[l]}}}var d=[];for(var l in n)d.push(n[l]);var f=this._createCalculateTfIdf();return d.sort((function(n,r){return f(e,r,t)-f(e,n,t)}))},t._createCalculateIdf=function(){var e=this._tokenMap,t=this._tokenToIdfCache;return function(n,r){if(!t[n]){var i=void 0!==e[n]?e[n].$numDocumentOccurrences:0;t[n]=1+Math.log(r.length/(1+i))}return t[n]}},t._createCalculateTfIdf=function(){var e=this._tokenMap,t=this._uidFieldName,n=this._createCalculateIdf();return function(r,i,a){for(var o=0,c=0,s=r.length;c<s;++c){var u,l=r[c],f=n(l,a);f===1/0&&(f=0),u=t instanceof Array?i&&d(i,t):i&&i[t],o+=(void 0!==e[l]&&void 0!==e[l].$uidMap[u]?e[l].$uidMap[u].$numTokenOccurrences:0)*f}return o}},e}(),h=/[^a-zа-яё0-9\-']+/i,m=function(){function e(){}return e.prototype.tokenize=function(e){return e.split(h).filter((function(e){return e}))},e}();function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(e){if(!e)throw Error("js-search requires a uid field name constructor parameter");this._uidFieldName=e,this._indexStrategy=new u,this._searchIndex=new f(e),this._sanitizer=new l,this._tokenizer=new m,this._documents=[],this._searchableFields=[]}var t,n,r,i=e.prototype;return i.addDocument=function(e){this.addDocuments([e])},i.addDocuments=function(e){this._documents=this._documents.concat(e),this.indexDocuments_(e,this._searchableFields)},i.addIndex=function(e){this._searchableFields.push(e),this.indexDocuments_(this._documents,[e])},i.search=function(e){var t=this._tokenizer.tokenize(this._sanitizer.sanitize(e));return this._searchIndex.search(t,this._documents)},i.indexDocuments_=function(e,t){this._initialized=!0;for(var n=this._indexStrategy,r=this._sanitizer,i=this._searchIndex,a=this._tokenizer,o=this._uidFieldName,c=0,s=e.length;c<s;c++){var u,l=e[c];u=o instanceof Array?d(l,o):l[o];for(var f=0,h=t.length;f<h;f++){var m,p=t[f];if(null!=(m=p instanceof Array?d(l,p):l[p])&&"string"!=typeof m&&m.toString&&(m=m.toString()),"string"==typeof m)for(var v=a.tokenize(r.sanitize(m)),k=0,b=v.length;k<b;k++)for(var y=v[k],g=n.expandToken(y),_=0,z=g.length;_<z;_++){var E=g[_];i.indexDocument(E,u,l)}}}},t=e,(n=[{key:"indexStrategy",set:function(e){if(this._initialized)throw Error("IIndexStrategy cannot be set after initialization");this._indexStrategy=e},get:function(){return this._indexStrategy}},{key:"sanitizer",set:function(e){if(this._initialized)throw Error("ISanitizer cannot be set after initialization");this._sanitizer=e},get:function(){return this._sanitizer}},{key:"searchIndex",set:function(e){if(this._initialized)throw Error("ISearchIndex cannot be set after initialization");this._searchIndex=e},get:function(){return this._searchIndex}},{key:"tokenizer",set:function(e){if(this._initialized)throw Error("ITokenizer cannot be set after initialization");this._tokenizer=e},get:function(){return this._tokenizer}}])&&p(t.prototype,n),r&&p(t,r),e}(),k=n("wEEd"),b=n("ydnR");n("qi5D");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=n("z1px");function z(e){var t=Object(r.useState)(b.a),n=t[0],a=t[1],o=Object(k.b)({opacity:1,from:{opacity:0}}),u=""===n,l=e.books,d=new v("slug");d.addIndex("title"),d.addIndex(["authorName"]),l.forEach((function(e){var t=g(g({},e),{},{authorName:e.author.join(b.b)});d.addDocument(t)}));var f=d.search(n),h=(n===b.a?l:f).map((function(e){var t=e.author,n=e.description,r=e.fluid,a=e.slug,u=e.title,l=t.join(", ");return i.a.createElement(k.a.div,{key:a,style:o,className:"book-content-book-container"},i.a.createElement(s.Link,{to:a,className:"book-content-book-image-link"},i.a.createElement(c.a,{className:"book-content-image",fluid:r})),i.a.createElement("div",{className:"book-content-info-container"},i.a.createElement(s.Link,{to:a},i.a.createElement("h4",{className:"book-content-title"},u)),i.a.createElement("small",null,"By ",l),i.a.createElement("p",{className:"book-content-description"},n),i.a.createElement(s.Link,{className:"book-content-link",to:a},"...")))}));return i.a.createElement("section",{className:"book-content-container"},i.a.createElement("div",{className:"book-content-search-container"},i.a.createElement("input",{type:"text",placeholder:"Search By Author Or Book",value:n,onChange:function(e){return t=e.target.value,void a(t);var t},onKeyPress:function(e){var t;"Enter"===(t=e).key&&t.target.blur()}}),i.a.createElement("div",{className:u?"hidden":"visible"},i.a.createElement(_,{onClick:function(){return a("")}}))),h.length>0?h:i.a.createElement("div",null,i.a.createElement("p",{style:{margin:"0 16px"}},"Sorry could not find the book with title or author of "+n+".")))}var E=Object(r.memo)(z),x=n("Ac47"),O=n("PIHY");t.default=function(e){var t=e.data,n=t.imageFiles.edges,r=t.bookFiles.edges,a=n.reduce((function(e,t){var n=t.node,r=n.childImageSharp.fluid;return e[n.name]=r,e}),{}),o=r.map((function(e){var t=e.node,n=t.childMarkdownRemark,r=n.fields.slug,i=n.frontmatter,o=i.author,c=i.title,s=i.description,u=t.name;return{author:o,description:s,slug:r,title:c,fluid:a[u]}}));return i.a.createElement(x.a,null,i.a.createElement(O.a,{title:"My Book List",description:"This is my book list."}),i.a.createElement(E,{books:o}))}},qi5D:function(e,t,n){},z1px:function(e,t,n){var r=n("q1tI");function i(e){return r.createElement("svg",e,[r.createElement("path",{d:"M126,0C56.523,0,0,56.523,0,126s56.523,126,126,126s126-56.523,126-126S195.477,0,126,0z M126,234\n\t\tc-59.551,0-108-48.449-108-108S66.449,18,126,18s108,48.449,108,108S185.551,234,126,234z",key:0}),r.createElement("path",{d:"M164.612,87.388c-3.515-3.515-9.213-3.515-12.728,0L126,113.272l-25.885-25.885c-3.515-3.515-9.213-3.515-12.728,0\n\t\tc-3.515,3.515-3.515,9.213,0,12.728L113.272,126l-25.885,25.885c-3.515,3.515-3.515,9.213,0,12.728\n\t\tc1.757,1.757,4.061,2.636,6.364,2.636s4.606-0.879,6.364-2.636L126,138.728l25.885,25.885c1.757,1.757,4.061,2.636,6.364,2.636\n\t\ts4.606-0.879,6.364-2.636c3.515-3.515,3.515-9.213,0-12.728L138.728,126l25.885-25.885\n\t\tC168.127,96.601,168.127,90.902,164.612,87.388z",key:1})])}i.defaultProps={version:"1.1",width:"24",height:"24",x:"0px",y:"0px",viewBox:"0 0 252 252",style:{enableBackground:"new 0 0 252 252"},xmlSpace:"preserve"},e.exports=i,i.default=i}}]);
//# sourceMappingURL=component---src-custom-pages-book-list-tsx-79988ee7ef52f0cadc30.js.map