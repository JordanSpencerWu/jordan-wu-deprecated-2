{"componentChunkName":"component---src-templates-book-note-index-tsx","path":"/books/clean-code/","result":{"data":{"markdownRemark":{"html":"<h4>Clean Code</h4>\n<p>Bad code will bring the company down! It's obvious that messy code takes longer to understand. As the mess continues, productivity will continue to decrease to zero. The only way to increase productivity is to prevent good code from rotting to bad code by writing clean code. It's our job to defend the code and keep it clean. The key is \"code-sense\" being able to spot bad code and transform it into clean code.</p>\n<blockquote>\n<p>I could list all of the qualities that I notice in clean code, but there is one overarching quality that leads to all of them. Clean code always looks like it was written by someone who cares. There is nothing obvious that you can do to make it better. All of those things were thought about by the code's author, and if you try to imagine improvements, you're led back to where you are, sitting in appreciation of the code someone left for you - code left by someone who cares deeply about the craft.</p>\n<p>by Michael Feathers</p>\n</blockquote>\n<p>Programmers are the authors of their code, it's their responsiblity for communicating well with their readers. Most of the time are spent reading code instead of writing, making it easy to read should be the main focus when creating clean code. Follow the boy scout rule, leave the campground cleaner than you found it. To develop \"code sense\" by practicing the tools, techniques, and thought processes used by good programmers.</p>\n<h4>Meaningful Names</h4>\n<p>Name is everywhere in software, it's important to pick a intention-revealing name. The name should tell you why it exists, what it does, and how it is used. Avoid disinformation, leaving false clues that obscure the meaning of code. Remember to make meaningful distinctions, be able to distinguish between variable names. Use pronounceable names so that everyone knows what you're are talking about. Classes and objects should have noun or noun phrase names while methods should have verb or verb phrase names. Pick one word per concept, that one word should be the same everywhere in the software. Avoid using the same word for two purposes. A professional programmer understands that clarity is king! You are the author of your story, use names that will help you tell your story to the reader.</p>\n<h4>Functions</h4>\n<p>The most important rule of functions is that it should be small!! This implies that the function block using if statement, else statements, while statements, and so on should be a function call. This allows you to name a descriptive function name and reduces your function size. Use the Step-down rule, a top-down narrative where every function to be followed by those at the next level of abstraction.</p>\n<p>The ideal number of arguments for a function is zero niladic. The more arguments you have, the more complex your function gets, we want simple and short functions! You can create functions with parameters but think carefully! Give parameter meaningful names that goes with the descriptive function name.</p>\n<p>Avoid side effects! Your functions should only do one thing, avoid doing other hidden things. If you do have a side effect, include the side effect in the function name.</p>\n<p>Function should either do something or answer something, but not both. Every function, and every block within a function, should have one entry and one exit. There should only be one return statement in a function, no break or continue statements in a loop.</p>\n<p>Master programmers writes stories rather than programs. The art of programming is and has always been, the art of language design.</p>\n<blockquote>\n<p>FUNCTIONS SHOULD DO ONE THING, THEY SHOULD DO IT WELL. THEY SHOULD DO IT ONLY.</p>\n</blockquote>\n<h4>Comments</h4>\n<p>Comments are evil! They propagates lies and misinformation, code are always evolving and the comments don't always follow them. The older the comment is, the farther away it is from the code it describes. Truth can only be found in the code, only the code can truly tell you what it does. Comments can be avoided if you write clean code! You can still use comments, focus on intent and informative.</p>\n<h4>Formatting</h4>\n<p>Code formatting is imporatant along with readability of you code! Remember readability comes before functionality, the functionality of the code will always change. Readability helps with modifying the functionality, your style and discipline survives.</p>\n<p>The newspaper metaphor, think of a well-written newspaper article. The top is where to have your high-level abstraction, as you go down there's more details. The end is where you will find the lowest level functions.</p>\n<p>Concepts that are closely related should be kept vertically close to each other. For example, instance variables should be declared at the top of the class. If one functions calls another, they should be vertically close, and the caller should be above the callee. This creates a nice flow down the source code module from high level to low level.</p>\n<p>The horizonal formatting limit should be around 80 to 120 characters per line. We can use horizontal white space to associate things that are strongly related and disassociate things that are more weakly related. Every programmer has his own formatting rules, but if he works in a team, then the team rules. Keep to the formatting style that the teams agrees upon.</p>\n<h4>Objects and Data Structures</h4>\n<p>Hiding implementation is not just a matter of putting a layer of functions between the variables, it's about abstractions. Abstract interfaces allows its users to manipulate the essence of the data, without having to know its implementation.</p>\n<p>Objects hide their data behind abstractions and expose functions that operate on that data. Data structure expose their data and have no meaningful functions. Objects and data structure are virtual opposites!</p>\n<h5>Procedual Shape</h5>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">  <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Square</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Point</span> topLeft<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">double</span> side<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Rectangle</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Point</span> topLeft<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">double</span> height<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">double</span> width<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Circle</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Point</span> center<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">double</span> radius<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Geometry</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">double</span> PI <span class=\"token operator\">=</span> <span class=\"token number\">3.14</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">double</span> <span class=\"token function\">area</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> shape<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">NoSuchShapeException</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>shape <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Square</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Square</span> s <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Square</span><span class=\"token punctuation\">)</span> shape<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> s<span class=\"token punctuation\">.</span>side <span class=\"token operator\">*</span> s<span class=\"token punctuation\">.</span>side<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>shape <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Rectangle</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Rectangle</span> r <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Rectangle</span><span class=\"token punctuation\">)</span> shape<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> r<span class=\"token punctuation\">.</span>height <span class=\"token operator\">*</span> r<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>shape <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Circle</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Circle</span> c <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Circle</span><span class=\"token punctuation\">)</span> shape<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> PI <span class=\"token operator\">*</span> c<span class=\"token punctuation\">.</span>radius <span class=\"token operator\">*</span> c<span class=\"token punctuation\">.</span>radius\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">NoSuchShapeException</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<h5>Polymorphic Shapes</h5>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">  <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Square</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Shape</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Point</span> topLeft<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">double</span> side<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">double</span> <span class=\"token function\">area</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> side<span class=\"token operator\">*</span>side<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Rectangle</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Shape</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Point</span> topLeft<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">double</span> height<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">double</span> width<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">double</span> <span class=\"token function\">area</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> height <span class=\"token operator\">*</span> width<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Circle</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Shape</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Point</span> center<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">double</span> radius<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">double</span> PI <span class=\"token operator\">=</span> <span class=\"token number\">3.14</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">double</span> <span class=\"token function\">area</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> PI <span class=\"token operator\">*</span> radius <span class=\"token operator\">*</span> radius<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>Procedual code makes it easy to add new functions without changing the existing data structure. OO code, on the other hand, makes it easy to add new classes without changing existing functions.</p>\n</blockquote>\n<p>In other words:</p>\n<blockquote>\n<p>Procedural code makes it hard to add new data structure because all the functions must change. OO code makes it hard to add new functions because all the classes must change.</p>\n</blockquote>\n<h4>Error Handling</h4>\n<p>Error handling is important, but if it obscures logic, it's wrong. Write Try-Catch-Finally Statement first, when you run the code in the try portion, you are stating that execution can abort at any point and then resume at the catch. Create informative error message and pass them along with your exceptions. Don't return null and avoid passing null into methods!</p>\n<h4>Boundaries</h4>\n<p>We want to control all software in our systems. This includes cleanly integrating foreign code like third-party libraries with the help of design patterns. One way can be creating a wrapper class that implements a interface that is tailored and constrained to meet the needs of the application. It's recommend to use learning tests when exploring third-party API. Code at the boundaries needs clear separation and tests that define expectations.</p>\n<blockquote>\n<p>It's better to depend on something you control than on something you don't control, lest it end up controlling you.</p>\n</blockquote>\n<h4>Unit Tests</h4>\n<p>Test Driven Development TDD asks us to write unit tests first, before writing any production code. The tests and the production code are written together, with the tests just a few seconds ahead of the production code. Consider the following three laws:</p>\n<ol>\n<li>You may not write production code until you have written a failing unit test.</li>\n<li>You may not write more of a unit test than is sufficient to fail, and not compiling is failing.</li>\n<li>You may not write more production code than is sufficient to pass the currently failing test.</li>\n</ol>\n<p>Keeping tests clean will allow the production code to evolve. The unit tests gives the ability to make sure that changes to the code base worked as expected. Tests preserve and enhance the flexibility, maintainability, and reusability of the production code. Creating clean tests is the same as creating clean code, it follows the same practices, expect it's in a different environment.</p>\n<p>Clean tests follow <strong>F.I.R.S.T.</strong> acronym :</p>\n<p><strong>Fast</strong>: Tests should be fast.</p>\n<p><strong>Independent</strong>: Tests should not depend on each other.</p>\n<p><strong>Repeatable</strong>: Test should be repeatable in any environment.</p>\n<p><strong>Self-Validating</strong>: The tests should have a boolean output pass or fail.</p>\n<p><strong>Timely</strong>: The tests need to be written in a timely fashion.</p>\n<blockquote>\n<p>Test code is just as important as production code.</p>\n</blockquote>\n<h4>Classes</h4>\n<p>The first rule of classes is that they should be small! With classes we count responsibilities. The name of the class should depend on the responsibility it has. The Single Responsibility Principle SRP states that classes should have one responsibility - one reason to change. We want our systems to be composed of many small classes, not a few large ones. Each small class encapsulates a single responsibility, has a single reason to change, and collaborates with a few others to achieve the desired system behaviors.</p>\n<p>Classes should have a small number of instance variables. Each of the methods of a class should manipulate one or more of those variables. In general the more variables a method manipulates the more cohesive that method is to its class. When cohesion is high, it means that the methods and variables of the class are co-dependent and hang together as a logical whole. Maintaining cohesion results in many small classes.</p>\n<h4>Systems</h4>\n<p>The code base is similiar to cities, teams of people who manage particular parts of the city. Some of those people are responsible for the big picture, while others focus on the details. Remember that cities works with the help of levels of abstractions and modularity. Construction is a very different process from use. Create clean systems by applying design patterns, never forget to use the simplest thing that can possibly work.</p>\n<h4>Emergence</h4>\n<p>Here are four simple rules that will help make applying principles such as Single Responsibility Principle SRP and Dependency Injection Principle DIP easier. A testable system is important, writing simple and easy tests will make us think about better designs. Following a simple and obvious rule that says we need to have tests and run them continuously impacts our system's adherence to the primary Object Oriented OO goals of low coupling and high cohesion. Once we have a testable system, refactor to clean code. The fact that we have these tests eliminates the fear that cleaning up the code will break it.</p>\n<ol>\n<li>Runs All the Tests</li>\n<li>Contains no duplication</li>\n<li>Expresses the intent of the programmer</li>\n<li>Minimizes the number of classes and methods</li>\n</ol>\n<p>Following the practice of simple design can and does encourage and enable developers to adhere to good principles and patterns that otherwise takes years to learn.</p>\n<h4>Smells and Heuristics</h4>\n<p>Here are a list of code smells!!</p>\n<h5>Comments</h5>\n<p><strong>C1: Inappropriate Comment</strong></p>\n<p><strong>C2: Obsolete Comment</strong></p>\n<p><strong>C3: Redundant Comment</strong></p>\n<p><strong>C4: Poorly Written Comment</strong></p>\n<p><strong>C5: Commented-Out Code</strong></p>\n<h5>Environment</h5>\n<p><strong>E1: Build Requires More Than One Step</strong></p>\n<p><strong>E2: Tests Require More Than One Step</strong></p>\n<h5>Functions</h5>\n<p><strong>F1: Too Many Arguments</strong></p>\n<p><strong>F2: Output Arguments</strong></p>\n<p><strong>F3: Flag Arguments</strong></p>\n<p><strong>F4: Dead Function</strong></p>\n<h5>General</h5>\n<p><strong>G1: Multiple Languages in One Source File</strong></p>\n<p><strong>G2: Obvious Behavior Is Unimplemented</strong></p>\n<p><strong>G3: Incorrect Behavior at the Boundaries</strong></p>\n<p><strong>G4: Overridden Safeties</strong></p>\n<p><strong>G5: Duplication</strong></p>\n<p><strong>G6: Code at Wrong Level of Abstraction</strong></p>\n<p><strong>G7: Base Classes Depending on Their Derivatives</strong></p>\n<p><strong>G8: Too Much Information</strong></p>\n<p><strong>G9: Dead Code</strong></p>\n<p><strong>G10: Vertical Separation</strong></p>\n<p><strong>G11: Inconsistency</strong></p>\n<p><strong>G12: Clutter</strong></p>\n<p><strong>G13: Artificial Coupling</strong></p>\n<p><strong>G14: Feature Envy</strong></p>\n<p><strong>G15: Selector Arguments</strong></p>\n<p><strong>G16: Obscured Intent</strong></p>\n<p><strong>G17: Misplaced Responsibility</strong></p>\n<p><strong>G18: Inappropriate Static</strong></p>\n<p><strong>G19: Use Explanatory Variables</strong></p>\n<p><strong>G20: Function Names Should Say Whay They Do</strong></p>\n<p><strong>G21: Understand the Algorithm</strong></p>\n<p><strong>G22: Make Logical Dependencies Physical</strong></p>\n<p><strong>G23: Prefer Polymorphism to If/Else or Switch/Case</strong></p>\n<p><strong>G24: Follow Standard Conventions</strong></p>\n<p><strong>G25: Replace Magic Number with Named Constants</strong></p>\n<p><strong>G26: Be Precise</strong></p>\n<p><strong>G27: Structure over Convention</strong></p>\n<p><strong>G28: Encapsulate Conditionals</strong></p>\n<p><strong>G29: Avoid Negative Conditionals</strong></p>\n<p><strong>G30: Functions Should Do One Thing</strong></p>\n<p><strong>G31: Hidden Temporal Couplings</strong></p>\n<p><strong>G32: Don't Be Arbitrary</strong></p>\n<p><strong>G33: Encapsulate Boundary Conditions</strong></p>\n<p><strong>G34: Functions Should Descend Only One Level of Abstraction</strong></p>\n<p><strong>G35: Keep Configurable Data at High Levels</strong></p>\n<p><strong>G36: Avoid Transitive Navigation</strong></p>\n<h5>Java</h5>\n<p><strong>J1: Avoid Long Import Lists by Using Wildcards</strong></p>\n<p><strong>J2: Don't Inherit Constants</strong></p>\n<p><strong>J3: Contants versus Enums</strong></p>\n<h5>Names</h5>\n<p><strong>N1: Choose Descriptive Names</strong></p>\n<p><strong>N2: Choose Names at the Appropriate Level of Abstraction</strong></p>\n<p><strong>N3: Use Standard Nomenclature Where Possible</strong></p>\n<p><strong>N4: Unambiguous Names</strong></p>\n<p><strong>N5: Use Long Names for Long Scopes</strong></p>\n<p><strong>N6: Avoid Encodings</strong></p>\n<p><strong>N7: Names Should Describe Side-Effects</strong></p>\n<h5>Tests</h5>\n<p><strong>T1: Insufficient Tests</strong></p>\n<p><strong>T2: Use a Coverage Tool!</strong></p>\n<p><strong>T3: Don't Skip Trivial Tests</strong></p>\n<p><strong>T4: An Ignored Test Is a Question about an Ambiguity</strong></p>\n<p><strong>T5: Test Boundary Conditions</strong></p>\n<p><strong>T6: Exhaustively Test Near Bugs</strong></p>\n<p><strong>T7: Patterns of Failure Are Revealing</strong></p>\n<p><strong>T8: Test Coverage Patterns Can be Revealing</strong></p>\n<p><strong>T9: Tests Should be Fast</strong></p>\n<blockquote>\n<p>Clean code is not written by following a set of rules. Professionalism and craftmanship come from values that drive disciplines.</p>\n</blockquote>","frontmatter":{"author":["Robert C. Martin"],"seo_description":"Clean code - a handbook of agile software craftsmanship by Robert C. Martin notes.","title":"Clean Code - A Handbook Of Agile Software Craftsmanship"}}},"pageContext":{"slug":"/books/clean-code/"}},"staticQueryHashes":["1584199405","4008572679"]}